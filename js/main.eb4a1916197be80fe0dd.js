(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+FFU":function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"g",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"h",(function(){return l})),i.d(e,"f",(function(){return c})),i.d(e,"d",(function(){return d})),i.d(e,"e",(function(){return h}));var n=i("M0uz");function s(t){return`\n<div class="notification card">\n  <div class="card-content" style="padding-top:13px;">\n     <div class="profile-wrap">\n         <img src="public/img/icons2/money2.svg" alt="money" class="big">\n         <div class="owner_text">\n             <h4 class="title">Бонус!</h4>\n             <div class="text-notify">+${t.value.value.toLocaleString()} <i class="money-icon"></i></div>\n         </div>\n     </div>\n  </div>\n<div class="notification-time">${Object(n.c)(t.created_at)}</div>\n</div>`}function a(t){return`\n<div class="notification card">\n  <div class="card-content" style="padding-top:13px;">\n     <div class="profile-wrap">\n         <img src="public/img/icons2/shield.svg" alt="shield" class="big">\n         <div class="owner_text">\n             <h4 class="title">Бонус!</h4>\n             <div class="text-notify">${t.value.value} <i class="shield-icon"></i></div>\n         </div>\n     </div>\n  </div>\n<div class="notification-time">${Object(n.c)(t.created_at)}</div>\n</div>`}function o(t){return`<div class="notification card">\n                <div class="card-content" style="padding-top:13px;">\n                    <div class="profile-wrap">\n                        <img src="public/img/icons2/shield.svg" alt="ava" class="big">\n                        <div class="owner_text">\n                            <h4 class="title">Защита закончилась</h4>\n                            <div class="text-notify btnShieldActivate">Вас могут купить\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="card-footer">\n                    <button class="card-button">Продлить!</button>\n                </div>\n                <div class="notification-time">${Object(n.c)(t.created_at)}</div>\n            </div>`}function r(t){return`<div class="notification card">\n                <div class="card-content" style="padding-top:13px;">\n                    <div class="profile-wrap">\n                        <img src="public/img/icons2/money2.svg" alt="ava" class="avatar-big">\n                        <div class="owner_text">\n                            <h4 class="title">Ваш донат зачислен</h4>\n                            <div class="text-notify">+${t.value.money.toLocaleString()} <i class="money-icon"></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="notification-time">${Object(n.c)(t.created_at)}</div>\n            </div>`}function l(t){return`<div class="notification card">\n                <div class="card-header">\n                    Раб откупился от вас:\n                </div>\n                <div class="card-content">\n                    <div class="profile-wrap">\n                        <img src="${window.Users[t.value.slave_id].photo}" alt="ava" class="avatar-big" onclick="openVK(${t.value.slave_id});">\n                        <div class="owner_text">\n                            <h4 class="title" onclick="openVK(${t.value.slave_id});">${window.Users[t.value.slave_id].name}</h4>\n                            <div class="text-notify">-${t.value.profit_per_hour?t.value.profit_per_hour.toLocaleString():".."}/час\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="notification-time">${Object(n.c)(t.created_at)}</div>\n            </div>`}function c(t){return`<div class="notification card">\n                <div class="card-header">\n                    Вас купил:\n                </div>\n                <div class="card-content">\n                    <div class="profile-wrap">\n                        <img src="${window.Users[t.value.owner_id].photo}" alt="ava" class="avatar-big" onclick="openVK(${t.value.owner_id});">\n                        <div class="owner_text">\n                            <h4 class="title" onclick="openVK(${t.value.owner_id});">${window.Users[t.value.owner_id].name}</h4>\n                            <div class="text-secondary" style="visibility: visible;">Вы теряете <b>50%</b> прибыли\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                 ${t.value.owner_id===window.User.owner_id?'<div class="card-footer">\n                    <button class="card-button buyOut">Выкупиться</button>\n                </div>':""}             \n                <div class="notification-time">${Object(n.c)(t.created_at)}</div>\n            </div>`}function d(t){return`<div class="notification card">\n                <div class="card-header">\n                    Вашего раба купили на рынке:\n                </div>\n                <div class="card-content">\n                    <div class="profile-wrap">\n                        <img src="${window.Users[t.value.slave_id].photo}" alt="ava" class="avatar-big" onclick="openVK(${t.value.slave_id});">\n                        <div class="owner_text">\n                            <h4 class="title" onclick="openVK(${t.value.slave_id});">${window.Users[t.value.slave_id].name}</h4>\n                            <div class="text-notify">+${t.value.money.toLocaleString()} <i class="money-icon"></i>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="notification-time">${Object(n.c)(t.created_at)}</div>\n            </div>`}function h(t){return`<div class="notification card">\n                <div class="card-header">\n                    ${window.Users[t.value.new_owner_id].name} купил вашего раба:\n                </div>\n                <div class="card-content">\n                    <div class="profile-wrap">\n                        <img src="${window.Users[t.value.new_owner_id].photo}" alt="ava" class="avatar-big" onclick="openVK(${t.value.new_owner_id});">\n                        <div class="owner_text">\n                            <h4 class="title" onclick="openVK(${t.value.new_owner_id});">${window.Users[t.value.new_owner_id].name}</h4>\n                            \n\x3c!--                            <div class="text-notify" style="visibility: visible;">36 рабов--\x3e\n\x3c!--                            </div>--\x3e\n                        </div>\n                    </div>\n                    <div class="notification-inner">\n                        <div class="profile-wrap">\n                            <img src="${window.Users[t.value.slave_id].photo}" alt="ava" class="avatar-small" onclick="openVK(${t.value.slave_id});">\n                            <div class="owner_text">\n                                <h5 class="title-small" onclick="openVK(${t.value.slave_id});">${window.Users[t.value.slave_id].name}</h5>\n\x3c!--                                <div class="notification-inner-text">+150/час--\x3e\n                                    <div class="notification-inner-text">+${t.value.profit_per_hour?t.value.profit_per_hour.toLocaleString():".."}/час\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="notification-time">${Object(n.c)(t.created_at)}</div>\n            </div>`}},"+PwJ":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var n=i("pTa+");function s(){Object(n.a)(),t(".category-btn").removeClass("active"),t("#exchangeCategory").addClass("active")}}).call(this,i("EVdn"))},"/FAX":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));var n=i("We0c"),s=i("x1ye");function a(){Object(s.b)(),t(".message").fadeOut(n.e)}function o(e,i="default"){t(".message").html(e).removeClass("message-default message-red message-blue").addClass("message-"+i).fadeIn(n.e).delay(5e3).fadeOut(n.e),Object(s.b)()}}).call(this,i("EVdn"))},"05Sm":function(t,e,i){"use strict";(function(t){function n(){/iPhone|iPod/.test(navigator.platform)&&(t(".header").css("margin-top","50px"),t(".menu").css("margin-bottom","20px"),t("body").append("<div style='background:#fff;position:fixed;top:0;width:100%;height:50px;z-index:3;'></div>"));let e=/iPhone/.test(navigator.userAgent)&&!window.MSStream,i=window.screen.width/window.screen.height;e&&"0.462"===i.toFixed(3)&&t("body").append("<div style='background:#fff;position:fixed;bottom:0;width:100%;height:30px;z-index:3;'></div>")}i.d(e,"a",(function(){return n}))}).call(this,i("EVdn"))},"0n5W":function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("iRHI");function s(t){Object(n.a)(t.response[0].sign)}},"1kD+":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return o}));var n=i("fb6q"),s=i("yUHS"),a=i("MMnf");function o(){let e=parseInt(t("#sellPrice").val()),i=t("#sellSlave"),o=i.text(),r="sell"+window.Card.user_id+e;t.when(i.text("Продажа")).then((function(){t.when(Object(n.b)(r)).then((function(t){i.text(o),Object(n.a)("users.sell",{pow:t.pow,pow_hash:t.pow_hash,user_id:window.Card.user_id,price:e,csrf_hash:window.Card.csrfHash},(function(){Object(s.c)(),Object(a.a)()}))}))}))}}).call(this,i("EVdn"))},"40tA":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("We0c"),s=i("Qnyu");function a(){window.State.isMastersPage&&(!window.User.slaves||window.User.slaves.length<n.g)&&s.a.show("Как стать боярином?",!1,"Владейте "+n.g+" рабами и будьте свободными!")}},"4FA/":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("We0c"),s=i("yUHS");function a(e){t(".usercard").fadeIn(n.e),t(".usercard-back").fadeIn(n.e);let i=e.response[0];switch(t("#userCardAvatar").attr("src",i.photo_100).off("click").on("click",(function(){openVK(i.id)})),t("#userCardName").text(window.Users[i.id].name).off("click").on("click",(function(){openVK(i.id)})),t("#userCardStatus").text(window.Card.slaves_count>=n.g&&0===window.Card.owner_id?"Боярин":"Раб"),t("#userCardProfit").text("+"+window.Card.profit_per_hour.toLocaleString()+"/чаc"),t("#sellPrice").val(""),t(".friends").hide(),window.Card.type){case"market":Object(s.a)(i);break;case"slaves":Object(s.b)()}}}).call(this,i("EVdn"))},"7PPj":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return B}));var n=i("wF54"),s=i("aID/"),a=i("gFxh"),o=i("AQsa"),r=i("d+BO"),l=i("yUHS"),c=i("XjdO"),d=i("o+IS"),h=i("40tA"),u=i("tpcv"),w=i("+PwJ"),f=i("QtQV"),m=i("YXLc"),g=i("eyMk"),p=i("sBLP"),v=i("Eski"),x=i("1kD+"),b=i("QUp/"),_=i("uNXP"),y=i("x1ye"),S=i("e3VF"),k=i("NOIA"),A=i("Zikq"),C=i("8OfH"),T=i("tPbt"),D=i("MvrJ"),O=i("AX0R"),U=i("QjBP"),E=i("hFvm"),F=i("eQKb"),j=i("Qnyu"),P=i("BBlA"),V=(i("Vgow"),i("/FAX")),W=(i("MMnf"),i("ThxT")),M=i("wgUs"),I=i("7d+h");function B(){t(".buyOut").on("click",n.a),t("#refresh_page").on("click",s.a),t(".shareBtn").on("click",a.a),t(".buyDonate").on("click",o.a),t(".inviteLink").on("click",r.a),t("#topSlaves").on("click",c.a),t("#topMasters").on("click",d.a),t(".statBtn").on("click",h.a),t("#marketCategory").on("click",u.a),t("#exchangeCategory").on("click",w.a),t("#friendsCategory").on("click",f.a),t(".master-btn").on("click",m.a),t(".buy-btn").on("click",g.a),t("#slaveUpgrade").on("click",g.a),t("#sellYourSlaves").on("click",p.a),t("#marketUpdate").on("click",v.a),t("#sellSlave").on("click",x.a),t("#cancelSellSlave").on("click",b.a),t(".btnShieldActivate").on("click",_.a),t(".btnGetBonus").on("click",y.a),t("#searchSlaves").on("input",S.a),t("#slavesFilter").on("click",k.a),t("#exchangeFilters").on("click",A.a),t("#filterPrice").on("click",C.a),t("#filterPriceExchange").on("click",T.a),t("#filterProfit").on("click",D.a),t("#filterProfitExchange").on("click",O.a),t("#acceptFilters").on("click",U.a),t("#acceptFiltersExchange").on("click",E.a),t(".usercard-back").on("click",l.c),t(".popup-button").on("click",j.a.close),t(".popup-back").on("click",(function(){j.a.close(),Object(y.b)()})),t(".wheel-back").on("click",y.b),t("#deleteAccountBox").on("click",P.a),t("#goToStat").on("click",(function(){Object(l.c)(),t(".stat-btn").click()})),t(".menu-button").on("click",(function(){Object(F.a)(t(this))})),t(".message").on("click",V.a),t(".backBtn").on("click",M.a),t(".notifyCard").on("click",W.a),t(".chatCard").on("click",I.a)}}).call(this,i("EVdn"))},"7d+h":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("z4yC"),s=i("We0c");function a(){Object(n.a)(s.f)}},"8OfH":function(t,e,i){"use strict";(function(t){function n(){t("#filterPrice").removeClass("active").addClass("active").html('Цена на рынке <span class="icon-'+(window.State.filterPrice?"down":"up")+'"></span>'),t("#filterProfit").removeClass("active"),window.State.sortPrice=!0,window.State.filterPrice=!window.State.filterPrice}i.d(e,"a",(function(){return n}))}).call(this,i("EVdn"))},AQsa:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("fb6q"),s=i("z4yC");function a(){Object(n.a)("game.getDonateLink",{},(function(t){Object(s.a)(t.link)}))}},AX0R:function(t,e,i){"use strict";(function(t){function n(){t("#filterProfitExchange").removeClass("active").addClass("active").html('Доход/час <span class="icon-'+(window.State.filterProfitExchange?"down":"up")+'"></span>'),t("#filterPriceExchange").removeClass("active"),window.State.sortPriceExchange=!1,window.State.filterProfitExchange=!window.State.filterProfitExchange}i.d(e,"a",(function(){return n}))}).call(this,i("EVdn"))},BBlA:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("Qnyu"),s=i("fb6q");function a(){n.a.show("Вы действительно хотите удалить аккаунт?",!0,"После удаления аккаунта все данные и статистика обнуляются без возможности восстановления.",!0,'\n<button class="popup-custom-button-lite popup-error" id="cancelDelete">Отмена</button>\n<button class="popup-custom-button popup-error" id="deleteAccount">Да</button>\n',"delete-icon"),t("#cancelDelete").click(n.a.close),t("#deleteAccount").click(o)}function o(){n.a.close(),t("#tech-icon").removeClass().addClass("delete-icon"),t("#tech-text").text("Ваш аккаунт удален"),t("#text-description").text(""),t(".technical-works").show(),t(".wrap-left").css("visibility","hidden"),Object(s.a)("game.exit",{},(function(){t(".technical-works").show()}))}}).call(this,i("EVdn"))},CaNs:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("1QEB"),s=i.n(n);function a(){t(".app_title").text("Покупка"),t(".buyDonate").show(),t(".statBtn").hide(),t(".backBtn").hide(),t(".slave-item").remove(),t(".market-list").html("").addClass("friends-list"),t("#marketUpdate").hide(),t("#exchangeFilters").hide(),t("#sellYourSlaves").hide(),t("#inviteFriendsBtn").show(),t("#inviteFriendsCard").show(),t("#noFriends").show(),t("#acceptFiltersExchange").hide(),t(".search-filters").hide(),window.State.isExchange=!1,window.State.isFriends=!0,window.Market=[],s.a.send("VKWebAppCallAPIMethod",{method:"friends.getAppUsers",request_id:"friends",params:{v:"5.130",access_token:window.User.access_token}})}}).call(this,i("EVdn"))},Eski:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return o}));var n=i("fb6q"),s=i("VZz0"),a=i("yv5w");function o(){let e=t("#marketUpdate"),i=e.html();t.when(e.text("Обновление списка")).then((function(){t.when(Object(n.b)("refreshRandom")).then((function(t){e.html(i),Object(n.a)("market.refreshRandom",{pow:t.pow,pow_hash:t.pow_hash},(function(){Object(s.a)(window.User.balance-20),Object(a.a)()}))}))}))}}).call(this,i("EVdn"))},LIia:function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"c",(function(){return a})),i.d(e,"b",(function(){return o}));var n=i("M0uz");function s(t){return`<div class="slave-item slave${t.user_id}" onclick="window.userCardShow(${t.user_id}, 'slaves');">\n                    <div class="slave-info">\n                        <img src="${window.Users[t.user_id].photo}" alt="ava" class="avatar-small">\n                        <div class="slave-info-text">\n                            <div class="title${t.is_on_market?"-gray":""}">${window.Users[t.user_id].name}</div>\n                            <div class="income${t.is_on_market?"-gray":""}">+${t.profit_per_hour.toLocaleString()}/час</div>\n                        </div>\n                    </div>\n                    <div class="slave-operations">\n                        <div class="slave-money">\n                            <div class="${t.is_on_market?"time":"slave-upgrade-icon"}"></div>\n                            <div class="income${t.is_on_market?"-gray":""}">\n                            +${t.is_on_market?t.price_exchange.toLocaleString():Object(n.d)(t.profit_per_hour).toLocaleString()+"/час"}</div>\n                        </div>\n                    </div>\n                </div>`}function a(t,e){return`<div class="slave-item">\n                <div class="slave-info">\n                    <div class="slave-position">${e}</div>\n                    <img src="${window.Users[t.user_id].photo}" alt="ava" class="avatar-small" onclick="window.openVK(${t.user_id});">\n                    <div class="slave-info-text">\n                        <div class="title" onclick="window.openVK(${t.user_id});">${window.Users[t.user_id].name}</div>\n                        <div class="income">${t.balance.toLocaleString()}<i class="money-icon money-icon-stat"></i>  ${t.slaves_count} ${Object(n.a)(t.slaves_count,["раб","раба","рабов"])}</div>\n                    </div>\n                </div>\n            </div>`}function o(t){return`<div class="slave-item slave${t.user_id}" onclick="window.userCardShow(${t.user_id});">\n                <div class="slave-info">\n                    <img src="${window.Users[t.user_id].photo}" alt="ava" class="avatar-small">\n                    <div class="slave-info-text">\n                        <div class="title">${window.Users[t.user_id].name}</div>\n                        <div class="income">+${window.State.isExchange?t.profit_per_hour.toLocaleString():Object(n.d)(t.profit_per_hour).toLocaleString()}/час</div>\n                    </div>\n                </div>\n                <div class="slave-operations">\n                    <div class="slave-money">\n                        <div class="money-icon-big"></div>\n                        <div class="income">${t.price.toLocaleString()}</div>\n                    </div>\n                </div>\n            </div>`}},M0uz:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s})),i.d(e,"d",(function(){return a})),i.d(e,"b",(function(){return o})),i.d(e,"e",(function(){return l})),i.d(e,"c",(function(){return c}));var n=i("We0c");function s(t,e){return e[t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2]}function a(t){return Math.round(1.5*t)}function o(t,e){return t.substring(0,1)+". "+e}function r(t){let e=""+t;for(;e.length<2;)e="0"+e;return e}function l(e){if(window.User.bonusTries<n.d&&"bonus"===e)return void t("#bonusTimer").text("Крутить!");if("00:00:00"===window.User.bonusTo&&"bonus"===e)return;if("00:00:00"===window.User.shieldTo&&"shield"===e)return void(window.User.shieldCount>0?t("#shieldTimer").text("Поднять!"):t("#shieldTimer").text("Купить!"));if(window.State.timerStop)return;let i,s=new Date;i="bonus"===e?window.User.bonusTo:window.User.shieldTo;let a=i.split(":"),o=new Date(s.getFullYear(),s.getMonth(),s.getDate(),a[0],a[1],a[2]);o.setSeconds(o.getSeconds()-1),i=r(o.getHours())+":"+r(o.getMinutes())+":"+r(o.getSeconds()),"bonus"===e?(t("#bonusTimer").text(i),window.User.bonusTo=i):(t("#shieldTimer").text(i),window.User.shieldTo=i)}function c(t){return t.slice(11,-3)}}).call(this,i("EVdn"))},MMnf:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return l}));var n=i("fb6q"),s=i("VZz0"),a=i("mdQ4"),o=i("M0uz"),r=i("We0c");function l(e=!0){t(".app_title").text("Я твой раб"),t(".buyDonate").show(),t(".statBtn").hide(),t(".backBtn").hide(),t(".search-filters").hide(),t("#slavesFilter").show(),t("#acceptFilters").hide();let i=window.State.sortPrice?"price_exchange":"profit_per_hour",l=window.State.sortPrice?window.State.filterPrice?"DESC":"ASC":window.State.filterProfit?"DESC":"ASC",c=Math.round(Date.now()/1e3);Object(n.a)("game.start",{ref:window.Ref,sort:i,order:l,user_time:c},(function(i){if(Object(s.a)(i.balance),t(".inviteLink").text(i.ref),t("#slavesCounter").text("Мои рабы ("+i.slaves_count+"):"),t(".buyOut").html("Выкупиться ("+i.buy_out.toLocaleString()+'<i class="money-icon"></i>)'),t("#slavesIncome").text("+"+i.slaves_per_hour.toLocaleString()+"/час"),window.User.ref=i.ref,window.User.balance=i.balance,window.User.buyOut=i.buy_out,window.User.shieldTo=i.shield_to,window.User.shieldCount=i.shield_count,window.User.isShieldActive=i.is_shield_active,window.User.bonusTo=i.bonus_to,window.User.bonusTries=i.bonus_count,window.User.isUseBonusDaily=i.bonus_daily,window.User.slavesCount=i.slaves_count,window.User.DIFFICULTY_HASH=i.hash_difficulty,window.State.timerStop=!0,window.User.timeOffset=i.time_offset,window.User.newNotifications=i.new_notifications,window.User.isUseBonusDaily?t("#bonusHeader").html('Бонус (20 <i class="money-icon"></i>):'):window.User.bonusTries>=r.d?t("#bonusHeader").html("Бонус доступен через"):t("#bonusHeader").html("Бонус (бесплатно):"),window.User.shieldCount>0&&!window.User.isShieldActive?t("#shieldTitle").text("Щит (есть "+window.User.shieldCount+" часа)"):window.User.isShieldActive?t("#shieldTitle").text("Щит (активен):"):t("#shieldTitle").text("Щит:"),clearTimeout(window.State.timerBonus),clearTimeout(window.State.timerShield),window.State.timerStop=!1,window.State.timerShield=setInterval(o.e,1e3,"shield"),window.State.timerBonus=setInterval(o.e,1e3,"bonus"),window.User.newNotifications>0&&(t("#notifications_count").text(window.User.newNotifications),t(".notifyCard").addClass("card-active")),i.owner_id>0||i.slaves.length>0){let t=[];i.owner_id>0?(window.User.owner_id=parseInt(i.owner_id),window.Users[i.owner_id]||t.push(i.owner_id)):window.User.owner_id=0,i.slaves.length>0&&(window.User.slaves=[],window.User.slaves.push(i.slaves),i.slaves.forEach((function(e){window.Users[e.user_id]||t.push(e.user_id)}))),e&&Object(a.e)(t,"slaves")}}))}}).call(this,i("EVdn"))},MWF7:function(module,__webpack_exports__,__webpack_require__){"use strict";function Winwheel(t,e){let i={canvasId:"canvas",centerX:null,centerY:null,outerRadius:null,innerRadius:0,numSegments:1,drawMode:"code",rotationAngle:0,textFontFamily:"Arial",textFontSize:20,textFontWeight:"bold",textOrientation:"horizontal",textAlignment:"center",textDirection:"normal",textMargin:null,textFillStyle:"black",textStrokeStyle:null,textLineWidth:1,fillStyle:"silver",strokeStyle:null,lineWidth:0,clearTheCanvas:!0,imageOverlay:!1,drawText:!0,pointerAngle:0,wheelImage:null,imageDirection:"N",responsive:!1,scaleFactor:1};for(let e in i)null!=t&&void 0!==t[e]?this[e]=t[e]:this[e]=i[e];if(null!=t)for(let e in t)void 0===this[e]&&(this[e]=t[e]);this.canvasId?(this.canvas=document.getElementById(this.canvasId),this.canvas?(null==this.centerX&&(this.centerX=this.canvas.width/2),null==this.centerY&&(this.centerY=this.canvas.height/2),null==this.outerRadius&&(this.canvas.width<this.canvas.height?this.outerRadius=this.canvas.width/2-this.lineWidth:this.outerRadius=this.canvas.height/2-this.lineWidth),this.ctx=this.canvas.getContext("2d")):(this.canvas=null,this.ctx=null)):(this.canvas=null,this.ctx=null),this.segments=new Array(null);for(let e=1;e<=this.numSegments;e++)null!=t&&t.segments&&void 0!==t.segments[e-1]?this.segments[e]=new Segment(t.segments[e-1]):this.segments[e]=new Segment;if(this.updateSegmentSizes(),null===this.textMargin&&(this.textMargin=this.textFontSize/1.7),null!=t&&t.animation&&void 0!==t.animation?this.animation=new Animation(t.animation):this.animation=new Animation,null!=t&&t.pins&&void 0!==t.pins&&(this.pins=new Pin(t.pins)),"image"===this.drawMode||"segmentImage"===this.drawMode?(void 0===t.fillStyle&&(this.fillStyle=null),void 0===t.strokeStyle&&(this.strokeStyle="red"),void 0===t.drawText&&(this.drawText=!1),void 0===t.lineWidth&&(this.lineWidth=1),void 0===e&&(e=!1)):void 0===e&&(e=!0),null!=t&&t.pointerGuide&&void 0!==t.pointerGuide?this.pointerGuide=new PointerGuide(t.pointerGuide):this.pointerGuide=new PointerGuide,this.responsive&&(winwheelToDrawDuringAnimation=this,this._originalCanvasWidth=this.canvas.width,this._originalCanvasHeight=this.canvas.height,this._responsiveScaleHeight=this.canvas.dataset.responsivescaleheight,this._responsiveMinWidth=this.canvas.dataset.responsiveminwidth,this._responsiveMinHeight=this.canvas.dataset.responsiveminheight,this._responsiveMargin=this.canvas.dataset.responsivemargin,window.addEventListener("load",winwheelResize),window.addEventListener("resize",winwheelResize)),!0===e)this.draw(this.clearTheCanvas);else if("segmentImage"===this.drawMode){winwheelToDrawDuringAnimation=this,winhweelAlreadyDrawn=!1;for(let t=1;t<=this.numSegments;t++)null!==this.segments[t].image&&(this.segments[t].imgData=new Image,this.segments[t].imgData.onload=winwheelLoadedImage,this.segments[t].imgData.src=this.segments[t].image)}}function Pin(t){let e={visible:!0,number:36,outerRadius:3,fillStyle:"grey",strokeStyle:"black",lineWidth:0,margin:3,responsive:!1};for(let i in e)null!=t&&void 0!==t[i]?this[i]=t[i]:this[i]=e[i];if(null!=t)for(let e in t)void 0===this[e]&&(this[e]=t[e])}function Animation(t){let e={type:"spinOngoing",direction:"clockwise",propertyName:null,propertyValue:null,duration:10,yoyo:!1,repeat:null,easing:null,stopAngle:null,spins:null,clearTheCanvas:null,callbackFinished:null,callbackBefore:null,callbackAfter:null,callbackSound:null,soundTrigger:"segment"};for(let i in e)null!=t&&void 0!==t[i]?this[i]=t[i]:this[i]=e[i];if(null!=t)for(let e in t)void 0===this[e]&&(this[e]=t[e])}function Segment(t){let e={size:null,text:"",fillStyle:null,strokeStyle:null,lineWidth:null,textFontFamily:null,textFontSize:null,textFontWeight:null,textOrientation:null,textAlignment:null,textDirection:null,textMargin:null,textFillStyle:null,textStrokeStyle:null,textLineWidth:null,image:null,imageDirection:null,imgData:null};for(let i in e)null!=t&&void 0!==t[i]?this[i]=t[i]:this[i]=e[i];if(null!=t)for(let e in t)void 0===this[e]&&(this[e]=t[e]);this.startAngle=0,this.endAngle=0}function PointerGuide(t){let e={display:!1,strokeStyle:"red",lineWidth:3};for(let i in e)null!=t&&void 0!==t[i]?this[i]=t[i]:this[i]=e[i]}function winwheelPercentToDegrees(t){let e=0;if(t>0&&t<=100){e=360*(t/100)}return e}function winwheelAnimationLoop(){if(winwheelToDrawDuringAnimation){!1!==winwheelToDrawDuringAnimation.animation.clearTheCanvas&&winwheelToDrawDuringAnimation.ctx.clearRect(0,0,winwheelToDrawDuringAnimation.canvas.width,winwheelToDrawDuringAnimation.canvas.height);let callbackBefore=winwheelToDrawDuringAnimation.animation.callbackBefore,callbackAfter=winwheelToDrawDuringAnimation.animation.callbackAfter;null!=callbackBefore&&("function"==typeof callbackBefore?callbackBefore():eval(callbackBefore)),winwheelToDrawDuringAnimation.draw(!1),null!=callbackAfter&&("function"==typeof callbackAfter?callbackAfter():eval(callbackAfter)),winwheelToDrawDuringAnimation.animation.callbackSound&&winwheelTriggerSound()}}function winwheelTriggerSound(){!1===winwheelToDrawDuringAnimation.hasOwnProperty("_lastSoundTriggerNumber")&&(winwheelToDrawDuringAnimation._lastSoundTriggerNumber=0);let callbackSound=winwheelToDrawDuringAnimation.animation.callbackSound,currentTriggerNumber=0;currentTriggerNumber="pin"===winwheelToDrawDuringAnimation.animation.soundTrigger?winwheelToDrawDuringAnimation.getCurrentPinNumber():winwheelToDrawDuringAnimation.getIndicatedSegmentNumber(),currentTriggerNumber!==winwheelToDrawDuringAnimation._lastSoundTriggerNumber&&("function"==typeof callbackSound?callbackSound():eval(callbackSound),winwheelToDrawDuringAnimation._lastSoundTriggerNumber=currentTriggerNumber)}__webpack_require__.d(__webpack_exports__,"a",(function(){return Winwheel})),Winwheel.prototype.updateSegmentSizes=function(){if(this.segments){let t=0,e=0;for(let i=1;i<=this.numSegments;i++)null!==this.segments[i].size&&(t+=this.segments[i].size,e++);let i=360-t,n=0;i>0&&(n=i/(this.numSegments-e));let s=0;for(let t=1;t<=this.numSegments;t++)this.segments[t].startAngle=s,this.segments[t].size?s+=this.segments[t].size:s+=n,this.segments[t].endAngle=s}},Winwheel.prototype.clearCanvas=function(){this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)},Winwheel.prototype.draw=function(t){this.ctx&&(void 0!==t?!0===t&&this.clearCanvas():this.clearCanvas(),"image"===this.drawMode?(this.drawWheelImage(),!0===this.drawText&&this.drawSegmentText(),!0===this.imageOverlay&&this.drawSegments()):"segmentImage"===this.drawMode?(this.drawSegmentImages(),!0===this.drawText&&this.drawSegmentText(),!0===this.imageOverlay&&this.drawSegments()):(this.drawSegments(),!0===this.drawText&&this.drawSegmentText()),void 0!==this.pins&&!0===this.pins.visible&&this.drawPins(),!0===this.pointerGuide.display&&this.drawPointerGuide())},Winwheel.prototype.drawPins=function(){if(this.pins&&this.pins.number){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.outerRadius*this.scaleFactor,n=this.pins.outerRadius,s=this.pins.margin;this.pins.responsive&&(n=this.pins.outerRadius*this.scaleFactor,s=this.pins.margin*this.scaleFactor);let a=360/this.pins.number;for(let o=1;o<=this.pins.number;o++)this.ctx.save(),this.ctx.strokeStyle=this.pins.strokeStyle,this.ctx.lineWidth=this.pins.lineWidth,this.ctx.fillStyle=this.pins.fillStyle,this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(o*a+this.rotationAngle)),this.ctx.translate(-t,-e),this.ctx.beginPath(),this.ctx.arc(t,e-i+n+s,n,0,2*Math.PI),this.pins.fillStyle&&this.ctx.fill(),this.pins.strokeStyle&&this.ctx.stroke(),this.ctx.restore()}},Winwheel.prototype.drawPointerGuide=function(){if(this.ctx){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.outerRadius*this.scaleFactor;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.pointerAngle)),this.ctx.translate(-t,-e),this.ctx.strokeStyle=this.pointerGuide.strokeStyle,this.ctx.lineWidth=this.pointerGuide.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(t,-i/4),this.ctx.stroke(),this.ctx.restore()}},Winwheel.prototype.drawWheelImage=function(){if(null!=this.wheelImage){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.wheelImage.width*this.scaleFactor,n=this.wheelImage.height*this.scaleFactor,s=t-i/2,a=e-n/2;this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.rotationAngle)),this.ctx.translate(-t,-e),this.ctx.drawImage(this.wheelImage,s,a,i,n),this.ctx.restore()}},Winwheel.prototype.drawSegmentImages=function(){if(this.ctx){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor;if(this.segments)for(let i=1;i<=this.numSegments;i++){let n=this.segments[i];if(n.imgData.height){let i=0,s=0,a=0,o="",r=n.imgData.width*this.scaleFactor,l=n.imgData.height*this.scaleFactor;o=null!==n.imageDirection?n.imageDirection:this.imageDirection,"S"===o?(i=t-r/2,s=e,a=n.startAngle+180+(n.endAngle-n.startAngle)/2):"E"===o?(i=t,s=e-l/2,a=n.startAngle+270+(n.endAngle-n.startAngle)/2):"W"===o?(i=t-r,s=e-l/2,a=n.startAngle+90+(n.endAngle-n.startAngle)/2):(i=t-r/2,s=e-l,a=n.startAngle+(n.endAngle-n.startAngle)/2),this.ctx.save(),this.ctx.translate(t,e),this.ctx.rotate(this.degToRad(this.rotationAngle+a)),this.ctx.translate(-t,-e),this.ctx.drawImage(n.imgData,i,s,r,l),this.ctx.restore()}else console.log("Segment "+i+" imgData is not loaded")}}},Winwheel.prototype.drawSegments=function(){if(this.ctx&&this.segments){let t=this.centerX*this.scaleFactor,e=this.centerY*this.scaleFactor,i=this.innerRadius*this.scaleFactor,n=this.outerRadius*this.scaleFactor;for(let s=1;s<=this.numSegments;s++){let a,o,r,l=this.segments[s];if(a=null!==l.fillStyle?l.fillStyle:this.fillStyle,this.ctx.fillStyle=a,o=null!==l.lineWidth?l.lineWidth:this.lineWidth,this.ctx.lineWidth=o,r=null!==l.strokeStyle?l.strokeStyle:this.strokeStyle,this.ctx.strokeStyle=r,r||a){if(this.ctx.beginPath(),this.innerRadius){let n=Math.cos(this.degToRad(l.startAngle+this.rotationAngle-90))*(i-o/2),s=Math.sin(this.degToRad(l.startAngle+this.rotationAngle-90))*(i-o/2);this.ctx.moveTo(t+n,e+s)}else this.ctx.moveTo(t,e);this.ctx.arc(t,e,n,this.degToRad(l.startAngle+this.rotationAngle-90),this.degToRad(l.endAngle+this.rotationAngle-90),!1),this.innerRadius?this.ctx.arc(t,e,i,this.degToRad(l.endAngle+this.rotationAngle-90),this.degToRad(l.startAngle+this.rotationAngle-90),!0):this.ctx.lineTo(t,e),a&&this.ctx.fill(),r&&this.ctx.stroke()}}}},Winwheel.prototype.drawSegmentText=function(){if(this.ctx){let t,e,i,n,s,a,o,r,l,c,d=this.centerX*this.scaleFactor,h=this.centerY*this.scaleFactor,u=this.outerRadius*this.scaleFactor,w=this.innerRadius*this.scaleFactor;for(let f=1;f<=this.numSegments;f++){this.ctx.save();let m=this.segments[f];if(m.text){t=null!==m.textFontFamily?m.textFontFamily:this.textFontFamily,e=null!==m.textFontSize?m.textFontSize:this.textFontSize,i=null!==m.textFontWeight?m.textFontWeight:this.textFontWeight,n=null!==m.textOrientation?m.textOrientation:this.textOrientation,s=null!==m.textAlignment?m.textAlignment:this.textAlignment,a=null!==m.textDirection?m.textDirection:this.textDirection,o=null!==m.textMargin?m.textMargin:this.textMargin,r=null!==m.textFillStyle?m.textFillStyle:this.textFillStyle,l=null!==m.textStrokeStyle?m.textStrokeStyle:this.textStrokeStyle,c=null!==m.textLineWidth?m.textLineWidth:this.textLineWidth,e*=this.scaleFactor,o*=this.scaleFactor;let f="";null!=i&&(f+=i+" "),null!=e&&(f+=e+"px "),null!=t&&(f+=t),this.ctx.font=f,this.ctx.fillStyle=r,this.ctx.strokeStyle=l,this.ctx.lineWidth=c;let g=m.text.split("\n"),p=0-e*(g.length/2)+e/2;"curved"!==n||"inner"!==s&&"outer"!==s||(p=0);for(let t=0;t<g.length;t++){if("reversed"===a){if("horizontal"===n){this.ctx.textAlign="inner"===s?"right":"outer"===s?"left":"center",this.ctx.textBaseline="middle";let e=this.degToRad(m.endAngle-(m.endAngle-m.startAngle)/2+this.rotationAngle-90-180);if(this.ctx.save(),this.ctx.translate(d,h),this.ctx.rotate(e),this.ctx.translate(-d,-h),"inner"===s)r&&this.ctx.fillText(g[t],d-w-o,h+p),l&&this.ctx.strokeText(g[t],d-w-o,h+p);else if("outer"===s){if(r){this.ctx.fillText(g[t],d-u+o,h+p);let e=document.getElementById("money-icon-hack");this.ctx.drawImage(e,0,0,18,18)}if(l){this.ctx.strokeText(g[t],d-u+o,h+p);let e=document.getElementById("money-icon-hack");this.ctx.drawImage(e,0,0,18,18)}}else r&&this.ctx.fillText(g[t],d-w-(u-w)/2-o,h+p),l&&this.ctx.strokeText(g[t],d-w-(u-w)/2-o,h+p);this.ctx.restore()}else if("vertical"===n){this.ctx.textAlign="center",this.ctx.textBaseline="inner"===s?"top":"outer"===s?"bottom":"middle";let i=m.endAngle-(m.endAngle-m.startAngle)/2-180;i+=this.rotationAngle,this.ctx.save(),this.ctx.translate(d,h),this.ctx.rotate(this.degToRad(i)),this.ctx.translate(-d,-h);let n=0;"outer"===s?n=h+u-o:"inner"===s&&(n=h+w+o);let a=e-e/9;if("outer"===s)for(let e=g[t].length-1;e>=0;e--){let i=g[t].charAt(e);r&&this.ctx.fillText(i,d+p,n),l&&this.ctx.strokeText(i,d+p,n),n-=a}else if("inner"===s)for(let e=0;e<g[t].length;e++){let i=g[t].charAt(e);r&&this.ctx.fillText(i,d+p,n),l&&this.ctx.strokeText(i,d+p,n),n+=a}else if("center"===s){let e=0;g[t].length>1&&(e=a*(g[t].length-1)/2);let i=h+w+(u-w)/2+e+o;for(let e=g[t].length-1;e>=0;e--){let n=g[t].charAt(e);r&&this.ctx.fillText(n,d+p,i),l&&this.ctx.strokeText(n,d+p,i),i-=a}}this.ctx.restore()}else if("curved"===n){let i=0;"inner"===s?(i=w+o,this.ctx.textBaseline="top"):"outer"===s?(i=u-o,this.ctx.textBaseline="bottom",i-=e*(g.length-1)):"center"===s&&(i=w+o+(u-w)/2,this.ctx.textBaseline="middle");let n=0,a=0;if(g[t].length>1){this.ctx.textAlign="left",n=e/10*4,n*=100/i;let s=n*g[t].length;a=m.startAngle+((m.endAngle-m.startAngle)/2-s/2)}else a=m.startAngle+(m.endAngle-m.startAngle)/2,this.ctx.textAlign="center";a+=this.rotationAngle,a-=180;for(let e=g[t].length;e>=0;e--){this.ctx.save();let s=g[t].charAt(e);this.ctx.translate(d,h),this.ctx.rotate(this.degToRad(a)),this.ctx.translate(-d,-h),l&&this.ctx.strokeText(s,d,h+i+p),r&&this.ctx.fillText(s,d,h+i+p),a+=n,this.ctx.restore()}}}else if("horizontal"===n){this.ctx.textAlign="inner"===s?"left":"outer"===s?"right":"center",this.ctx.textBaseline="middle";let e=this.degToRad(m.endAngle-(m.endAngle-m.startAngle)/2+this.rotationAngle-90);if(this.ctx.save(),this.ctx.translate(d,h),this.ctx.rotate(e),this.ctx.translate(-d,-h),"inner"===s)r&&this.ctx.fillText(g[t],d+w+o,h+p),l&&this.ctx.strokeText(g[t],d+w+o,h+p);else if("outer"===s){if(r){this.ctx.fillText(g[t],d+u-o,h+p);let e=document.getElementById("money-icon-hack"),i=document.getElementById("shield-icon-hack");"1 час"===g[t]?this.ctx.drawImage(i,d+u-o+5,h-10,18,18):this.ctx.drawImage(e,d+u-o+5,h-10,18,18)}l&&this.ctx.strokeText(g[t],d+u-o,h+p)}else r&&this.ctx.fillText(g[t],d+w+(u-w)/2+o,h+p),l&&this.ctx.strokeText(g[t],d+w+(u-w)/2+o,h+p);this.ctx.restore()}else if("vertical"===n){this.ctx.textAlign="center",this.ctx.textBaseline="inner"===s?"bottom":"outer"===s?"top":"middle";let i=m.endAngle-(m.endAngle-m.startAngle)/2;i+=this.rotationAngle,this.ctx.save(),this.ctx.translate(d,h),this.ctx.rotate(this.degToRad(i)),this.ctx.translate(-d,-h);let n=0;"outer"===s?n=h-u+o:"inner"===s&&(n=h-w-o);let a=e-e/9;if("outer"===s)for(let e=0;e<g[t].length;e++){let i=g[t].charAt(e);r&&this.ctx.fillText(i,d+p,n),l&&this.ctx.strokeText(i,d+p,n),n+=a}else if("inner"===s)for(let e=g[t].length-1;e>=0;e--){let i=g[t].charAt(e);r&&this.ctx.fillText(i,d+p,n),l&&this.ctx.strokeText(i,d+p,n),n-=a}else if("center"===s){let e=0;g[t].length>1&&(e=a*(g[t].length-1)/2);let i=h-w-(u-w)/2-e-o;for(let e=0;e<g[t].length;e++){let n=g[t].charAt(e);r&&this.ctx.fillText(n,d+p,i),l&&this.ctx.strokeText(n,d+p,i),i+=a}}this.ctx.restore()}else if("curved"===n){let i=0;"inner"===s?(i=w+o,this.ctx.textBaseline="bottom",i+=e*(g.length-1)):"outer"===s?(i=u-o,this.ctx.textBaseline="top"):"center"===s&&(i=w+o+(u-w)/2,this.ctx.textBaseline="middle");let n=0,a=0;if(g[t].length>1){this.ctx.textAlign="left",n=e/10*4,n*=100/i;let s=n*g[t].length;a=m.startAngle+((m.endAngle-m.startAngle)/2-s/2)}else a=m.startAngle+(m.endAngle-m.startAngle)/2,this.ctx.textAlign="center";a+=this.rotationAngle;for(let e=0;e<g[t].length;e++){this.ctx.save();let s=g[t].charAt(e);this.ctx.translate(d,h),this.ctx.rotate(this.degToRad(a)),this.ctx.translate(-d,-h),l&&this.ctx.strokeText(s,d,h-i+p),r&&this.ctx.fillText(s,d,h-i+p),a+=n,this.ctx.restore()}}p+=e}}this.ctx.restore()}}},Winwheel.prototype.degToRad=function(t){return.017453292519943295*t},Winwheel.prototype.setCenter=function(t,e){this.centerX=t,this.centerY=e},Winwheel.prototype.addSegment=function(t,e){let i,n=new Segment(t);if(this.numSegments++,void 0!==e){for(let t=this.numSegments;t>e;t--)this.segments[t]=this.segments[t-1];this.segments[e]=n,i=e}else this.segments[this.numSegments]=n,i=this.numSegments;return this.updateSegmentSizes(),this.segments[i]},Winwheel.prototype.setCanvasId=function(t){t?(this.canvasId=t,this.canvas=document.getElementById(this.canvasId),this.canvas&&(this.ctx=this.canvas.getContext("2d"))):(this.canvasId=null,this.ctx=null,this.canvas=null)},Winwheel.prototype.deleteSegment=function(t){if(this.numSegments>1){if(void 0!==t)for(let e=t;e<this.numSegments;e++)this.segments[e]=this.segments[e+1];this.segments[this.numSegments]=void 0,this.numSegments--,this.updateSegmentSizes()}},Winwheel.prototype.windowToCanvas=function(t,e){let i=this.canvas.getBoundingClientRect();return{x:Math.floor(t-i.left*(this.canvas.width/i.width)),y:Math.floor(e-i.top*(this.canvas.height/i.height))}},Winwheel.prototype.getSegmentAt=function(t,e){let i=null,n=this.getSegmentNumberAt(t,e);return null!==n&&(i=this.segments[n]),i},Winwheel.prototype.getSegmentNumberAt=function(t,e){let i,n,s,a,o,r=this.windowToCanvas(t,e),l=this.centerX*this.scaleFactor,c=this.centerY*this.scaleFactor,d=this.outerRadius*this.scaleFactor,h=this.innerRadius*this.scaleFactor;r.x>l?(s=r.x-l,n="R"):(s=l-r.x,n="L"),r.y>c?(a=r.y-c,i="B"):(a=c-r.y,i="T");let u=a/s,w=180*Math.atan(u)/Math.PI,f=0;if(o=Math.sqrt(a*a+s*s),"T"===i&&"R"===n?f=Math.round(90-w):"B"===i&&"R"===n?f=Math.round(w+90):"B"===i&&"L"===n?f=Math.round(90-w+180):"T"===i&&"L"===n&&(f=Math.round(w+270)),0!==this.rotationAngle){f-=this.getRotationPosition(),f<0&&(f=360-Math.abs(f))}let m=null;for(let t=1;t<=this.numSegments;t++)if(f>=this.segments[t].startAngle&&f<=this.segments[t].endAngle&&o>=h&&o<=d){m=t;break}return m},Winwheel.prototype.getIndicatedSegment=function(){let t=this.getIndicatedSegmentNumber();return this.segments[t]},Winwheel.prototype.getIndicatedSegmentNumber=function(){let t=0,e=this.getRotationPosition(),i=Math.floor(this.pointerAngle-e);i<0&&(i=360-Math.abs(i));for(let e=1;e<this.segments.length;e++)if(i>=this.segments[e].startAngle&&i<=this.segments[e].endAngle){t=e;break}return t},Winwheel.prototype.getCurrentPinNumber=function(){let t=0;if(this.pins){let e=this.getRotationPosition(),i=Math.floor(this.pointerAngle-e);i<0&&(i=360-Math.abs(i));let n=360/this.pins.number,s=0;for(let e=0;e<this.pins.number;e++){if(i>=s&&i<=s+n){t=e;break}s+=n}"clockwise"===this.animation.direction&&(t++,t>this.pins.number&&(t=0))}return t},Winwheel.prototype.getRotationPosition=function(){let t=this.rotationAngle;if(t>=0){if(t>360){t-=360*Math.floor(t/360)}}else{if(t<-360){t-=360*Math.ceil(t/360)}t=360+t}return t},Winwheel.prototype.startAnimation=function(){if(this.animation){this.computeAnimation(),winwheelToDrawDuringAnimation=this;let t=new Array(null);t[this.animation.propertyName]=this.animation.propertyValue,t.yoyo=this.animation.yoyo,t.repeat=this.animation.repeat,t.ease=this.animation.easing,t.onUpdate=winwheelAnimationLoop,t.onComplete=winwheelStopAnimation,this.tween=TweenMax.to(this,this.animation.duration,t)}},Winwheel.prototype.stopAnimation=function(t){winwheelToDrawDuringAnimation&&(winwheelToDrawDuringAnimation.tween&&winwheelToDrawDuringAnimation.tween.kill(),winwheelStopAnimation(t)),winwheelToDrawDuringAnimation=this},Winwheel.prototype.pauseAnimation=function(){this.tween&&this.tween.pause()},Winwheel.prototype.resumeAnimation=function(){this.tween&&this.tween.play()},Winwheel.prototype.computeAnimation=function(){this.animation&&("spinOngoing"===this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=-1),null==this.animation.easing&&(this.animation.easing="Linear.easeNone"),null==this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction&&(this.animation.propertyValue=0-this.animation.propertyValue)):"spinToStop"===this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=0),null==this.animation.easing&&(this.animation.easing="Power3.easeOut"),null==this.animation.stopAngle?this.animation._stopAngle=Math.floor(359*Math.random()):this.animation._stopAngle=360-this.animation.stopAngle+this.pointerAngle,null==this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):"spinAndBack"===this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=1),null==this.animation.easing&&(this.animation.easing="Power2.easeInOut"),null==this.animation.yoyo&&(this.animation.yoyo=!0),null==this.animation.stopAngle?this.animation._stopAngle=0:this.animation._stopAngle=360-this.animation.stopAngle,this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"===this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):this.animation.type)},Winwheel.prototype.getRandomForSegment=function(t){let e=0;if(t)if(void 0!==this.segments[t]){let i=this.segments[t].startAngle,n=this.segments[t].endAngle-i-2;n>0?e=i+1+Math.floor(Math.random()*n):console.log("Segment size is too small to safely get random angle inside it")}else console.log("Segment "+t+" undefined");else console.log("Segment number not specified");return e},Segment.prototype.changeImage=function(t,e){this.image=t,this.imgData=null,e&&(this.imageDirection=e),winhweelAlreadyDrawn=!1,this.imgData=new Image,this.imgData.onload=winwheelLoadedImage,this.imgData.src=this.image};let winwheelToDrawDuringAnimation=null;function winwheelStopAnimation(canCallback){if(!1!==canCallback){let callback=winwheelToDrawDuringAnimation.animation.callbackFinished;null!=callback&&("function"==typeof callback?callback(winwheelToDrawDuringAnimation.getIndicatedSegment()):eval(callback))}}let winhweelAlreadyDrawn=!1;function winwheelLoadedImage(){if(!1===winhweelAlreadyDrawn){let t=0;for(let e=1;e<=winwheelToDrawDuringAnimation.numSegments;e++)null!=winwheelToDrawDuringAnimation.segments[e].imgData&&winwheelToDrawDuringAnimation.segments[e].imgData.height&&t++;t===winwheelToDrawDuringAnimation.numSegments&&(winhweelAlreadyDrawn=!0,winwheelToDrawDuringAnimation.draw())}}function winwheelResize(){let t=40;void 0!==winwheelToDrawDuringAnimation._responsiveMargin&&(t=winwheelToDrawDuringAnimation._responsiveMargin);let e=window.innerWidth-t,i=winwheelToDrawDuringAnimation._responsiveMinWidth,n=winwheelToDrawDuringAnimation._responsiveMinHeight;e<i?e=i:e>winwheelToDrawDuringAnimation._originalCanvasWidth&&(e=winwheelToDrawDuringAnimation._originalCanvasWidth);let s=e/winwheelToDrawDuringAnimation._originalCanvasWidth;if(winwheelToDrawDuringAnimation.canvas.width=winwheelToDrawDuringAnimation._originalCanvasWidth*s,winwheelToDrawDuringAnimation._responsiveScaleHeight){let t=winwheelToDrawDuringAnimation._originalCanvasHeight*s;t<n?t=n:t>winwheelToDrawDuringAnimation._originalCanvasHeight&&(t=winwheelToDrawDuringAnimation._originalCanvasHeight),winwheelToDrawDuringAnimation.canvas.height=t}winwheelToDrawDuringAnimation.scaleFactor=s,winwheelToDrawDuringAnimation.draw()}},MvrJ:function(t,e,i){"use strict";(function(t){function n(){t("#filterProfit").removeClass("active").addClass("active").html('Доход/час <span class="icon-'+(window.State.filterProfit?"down":"up")+'"></span>'),t("#filterPrice").removeClass("active"),window.State.sortPrice=!1,window.State.filterProfit=!window.State.filterProfit}i.d(e,"a",(function(){return n}))}).call(this,i("EVdn"))},NOIA:function(t,e,i){"use strict";(function(t){function n(){t(".search-filters").show(),t("#slavesFilter").hide(),t("#acceptFilters").show()}i.d(e,"a",(function(){return n}))}).call(this,i("EVdn"))},"QUp/":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return o}));var n=i("fb6q"),s=i("yUHS"),a=i("MMnf");function o(){let e=t("#sellSlave"),i=e.text(),o="cancelSell"+window.Card.user_id;t.when(e.text("Отменяем")).then((function(){t.when(Object(n.b)(o)).then((function(t){e.text(i),Object(n.a)("users.cancelSell",{pow:t.pow,pow_hash:t.pow_hash,user_id:window.Card.user_id,csrf_hash:window.Card.csrfHash},(function(){Object(s.c)(),Object(a.a)()}))}))}))}}).call(this,i("EVdn"))},QjBP:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("MMnf");function s(){Object(n.a)()}},Qnyu:function(t,e,i){"use strict";(function(t){let i={close:function(){return t(".popup").fadeOut(100),t(".popup-back").fadeOut(100),!1},show:function(e,i=!1,n="",s=!1,a="",o="error-icon"){this.setText(e,n,s,a,o);let r=t(".popup");return r.removeClass("popup-error"),i&&r.addClass("popup-error"),r.fadeIn(100),t(".popup-back").fadeIn(100),!1},setText:function(e,i="",n=!1,s="",a="error-icon"){return n?(t(".popup-text").html(e),t(".popup-text-small").html(i)):(t(".popup-text").text(e),t(".popup-text-small").text(i)),n&&""!==s?(t(".popup-custom-buttons").show().html(s),t(".popup-button").hide()):(t(".popup-custom-buttons").hide(),t(".popup-button").show()),t("#popupIcon").removeClass().addClass(a),!1}};e.a=i}).call(this,i("EVdn"))},QtQV:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var n=i("CaNs");function s(){Object(n.a)(),t(".category-btn").removeClass("active"),t("#friendsCategory").addClass("active")}}).call(this,i("EVdn"))},SXaZ:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("M0uz"),s=i("+FFU");function a(e){if(e.response.forEach((function(t){window.Users[t.id]={photo:t.photo_100,name:Object(n.b)(t.first_name,t.last_name),fullname:t.first_name.toLowerCase()+" "+t.last_name.toLowerCase()}})),window.Notifications[0].length>0){t(".notification").remove();let e="";window.Notifications[0].forEach((function(t){switch(t.type){case"bonus":"money"===t.value.type?e+=Object(s.a)(t):e+=Object(s.b)(t);break;case"slave_free":e+=Object(s.h)(t);break;case"you_have_owner":e+=Object(s.f)(t);break;case"exchange_sell":e+=Object(s.d)(t);break;case"you_lost_slave":e+=Object(s.e)(t);break;case"shield_end":e+=Object(s.g)(t);break;case"new_donate":e+=Object(s.c)(t)}})),t(".notification-wrap").append(e)}}}).call(this,i("EVdn"))},ThxT:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("fb6q"),s=i("mdQ4");function a(){t(window).scrollTop(0),t(".app_title").text("Уведомления"),t(".buyDonate").hide(),t(".statBtn").hide(),t(".backBtn").show(),t(".page").hide(),t("#notifications").show(),t(".notifyCard").removeClass("card-active"),t("#notifications_count").text(0),window.Notifications=[],Object(n.a)("notifications.get",{},(function(t){Object(s.c)(t)}))}}).call(this,i("EVdn"))},VZz0:function(t,e,i){"use strict";(function(t){function n(e){t("#userBalance").html(e.toLocaleString()+'<i class="money-icon"></i>')}function s(){t(".username").text(window.User.name).off("click").on("click",(function(){openVK(window.User.user_id)})),t(".your-avatar").attr("src",window.User.photo).off("click").on("click",(function(){openVK(window.User.user_id)}))}i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return s}))}).call(this,i("EVdn"))},Vgow:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return c}));var n=i("MWF7"),s=(i("x1ye"),i("Qnyu"),i("fb6q")),a=i("VZz0"),o=i("We0c"),r=(i("M0uz"),i("/FAX"));let l;function c(){let e="bonus"+window.User.user_id,i=t(".btnGetBonus");t.when(i.text("Загрузка...")).then((function(){t.when(Object(s.b)(e)).then((function(e){Object(s.a)("game.getBonus",{pow:e.pow,pow_hash:e.pow_hash},(function(e){t(".wheel-wrap").fadeIn(o.e),t(".wheel-back").fadeIn(o.e),l=new n.a({canvasId:"canvasWheel",numSegments:11,rotationAngle:-15,pointerAngle:90,segments:[{fillStyle:"#EDEDED",text:"1 час",size:30},{fillStyle:"#75B1EC",text:"25",size:45},{fillStyle:"#75B1EC",text:"10",size:30},{fillStyle:"#FF9D9D",text:"1000",size:15},{fillStyle:"#75B1EC",text:"5",size:60},{fillStyle:"#EDEDED",text:"1 час",size:15},{fillStyle:"#75B1EC",text:"25",size:45},{fillStyle:"#75B1EC",text:"50",size:30},{fillStyle:"#EDEDED",text:"1 час",size:15},{fillStyle:"#75B1EC",text:"100",size:30},{fillStyle:"#75B1EC",text:"20"}],textAlignment:"outer",textMargin:30,fillStyle:null,pointerGuide:{display:!1,strokeStyle:"red",lineWidth:3},animation:{type:"spinToStop",duration:5,spins:8,callbackFinished:function(){let e=l.getIndicatedSegment(),i="1 час"===e.text;Object(a.a)(window.User.balance),t("#shieldTitle").text("Щит (есть "+window.User.shieldCount+" часа)"),"00:00:00"===window.User.shieldTo&&t(".btnShieldActivate").text("Поднять"),Object(r.b)("+ "+e.text+(i?'<i class="shield-icon"></i>':'<i class="money-icon"></i>')+"!",i?"default":"1000"===e.text?"red":"blue")}}});let i=e.prize;if(i){l.animation.stopAngle=l.getRandomForSegment(i),l.startAnimation(),window.User.balance=e.balance,window.User.shieldCount=e.shield_count,window.User.isShieldActive=e.is_shield_active,window.User.isUseBonusDaily=e.bonus_daily,window.User.bonusTo=e.bonus_to,window.User.shieldTo=e.shield_to,window.User.bonusTries++;let n='<i class="money-icon"></i>';window.User.isUseBonusDaily?window.User.bonusTries>=o.d?t("#bonusHeader").html("Бонус доступен через"):t("#bonusHeader").html("Крутить (20 "+n+"):"):t("#bonusHeader").html("Крутить!")}}))}))}))}}).call(this,i("EVdn"))},We0c:function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"e",(function(){return o})),i.d(e,"g",(function(){return r})),i.d(e,"h",(function(){return l})),i.d(e,"f",(function(){return c})),i.d(e,"d",(function(){return d}));let n,s;n="https://rb-api-prod.trainzland.ru/method/",s=7812366;const a=3,o=100,r=100,l=203889646,c="https://vk.me/join/Nlk7O7cQ_Ngn8Ij5KrND9iVKkb5MnRS21MM=",d=6},XjdO:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var n=i("so3W");function s(){Object(n.a)(),t(".category-btn").removeClass("active"),t("#topSlaves").addClass("active")}}).call(this,i("EVdn"))},YXLc:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("yUHS"),s=i("Qnyu"),a=i("We0c");function o(){Object(n.c)(),s.a.show("Как купить боярина?",!1,"Владейте "+a.g+" рабами и будьте свободными!")}},Z9XL:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("fb6q"),s=i("mdQ4");function a(){window.State.isMastersPage=!0,t(".app_title").text("Рейтинг"),t(".buyDonate").hide(),t(".statBtn").show(),t(".backBtn").hide(),t(".stat-list").html(""),t(".slave-item").remove(),window.Top=[],Object(n.a)("top.masters",{},(function(e){t(".stat-position").text(null!=e.position?e.position:"Вы не боярин"),Object(s.d)(e.masters)}))}}).call(this,i("EVdn"))},Zikq:function(t,e,i){"use strict";(function(t){function n(){t(".search-filters").show(),t("#slavesFilterExchange").hide(),t("#acceptFiltersExchange").show(),t("#exchangeFilters").hide()}i.d(e,"a",(function(){return n}))}).call(this,i("EVdn"))},"aID/":function(t,e,i){"use strict";function n(){window.location.hash="#u",window.location.reload()}i.d(e,"a",(function(){return n}))},"d+BO":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return o}));var n=i("1QEB"),s=i.n(n),a=i("/FAX");function o(){s.a.send("VKWebAppCopyText",{text:t(".inviteLink").first().text()}).then((function(){Object(a.b)("Ссылка скопирована")}))}}).call(this,i("EVdn"))},e3VF:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var n=i("LIia");function s(){let e=t("#searchSlaves").val();if(window.User.slaves)if(t("#noSlaves").hide(),t("#slavesHelp").show(),t(".slave-item").remove(),e.length>0){let a=(i=window.User.slaves[0],s=(s=e).toLowerCase(),Object.values(i).filter((function(t){if(-1!==(t.fullname+"").indexOf(s))return t})));a?a.forEach((function(e){t(".slaves-list").append(Object(n.a)(e))})):(t("#noSlaves").show(),t("#slavesHelp").hide())}else window.User.slaves[0].forEach((function(e){t(".slaves-list").append(Object(n.a)(e))}));else t("#noSlaves").show(),t("#slavesHelp").hide();var i,s}}).call(this,i("EVdn"))},e6Wu:function(t,e,i){"use strict";i.r(e),function(t){i("SYky");var e=i("1QEB"),n=i.n(e),s=i("05Sm"),a=(i("fC69"),i("We0c")),o=i("yUHS"),r=i("z4yC"),l=i("7PPj"),c=(i("hZTp"),i("mdQ4"));window.userCardShow=o.d,window.openLink=r.a,window.openVK=r.b,n.a.send("VKWebAppInit"),t((function(){Object(s.a)(),window.Ref=window.location.hash.substring(1),n.a.send("VKWebAppSetLocation",{location:""}),window.queryParams=new URL(document.location).searchParams.toString(),n.a.send("VKWebAppGetUserInfo"),n.a.send("VKWebAppGetAuthToken",{app_id:a.c,scope:"friends"});const t=new URLSearchParams(window.location.search);if("u"!==window.Ref){n.a.send("VKWebAppJoinGroup",{group_id:a.h});0===parseInt(t.get("vk_are_notifications_enabled"))&&n.a.send("VKWebAppAllowNotifications")}Object(l.a)()})),Object(c.a)(n.a)}.call(this,i("EVdn"))},eQKb:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return o}));var n=i("MMnf"),s=i("so3W"),a=i("yv5w");function o(e){t(".menu-button").removeClass("menu-button-active"),e.addClass("menu-button-active");let i=e.data("to");if(i!==window.State.currentPage)switch(window.State.currentPage=i,t(".page").hide(),t("#"+i).show(),window.State.currentPage){case"profile":Object(n.a)();break;case"stat":Object(s.a)();break;case"market":Object(a.a)()}}}).call(this,i("EVdn"))},eyMk:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return o}));var n=i("1QEB"),s=i.n(n),a=i("iRHI");function o(){let e=t(".buy-btn");window.State.isFriends&&"profile"!==window.State.currentPage?s.a.send("VKWebAppCallAPIMethod",{method:"friends.areFriends",request_id:"areFriends",params:{user_ids:e.data("id"),need_sign:1,v:"5.130",access_token:window.User.access_token}}):Object(a.a)()}}).call(this,i("EVdn"))},fC69:function(t,e,i){"use strict";i("ThxT");window.queryParams="",window.Ref="",window.User={user_id:0,name:"",photo:"",access_token:"",DIFFICULTY_HASH:4,timeOffset:0,bonusTries:0},window.Users={},window.Top=[],window.Market=[],window.Card={},window.State={currentPage:"profile",isExchange:!1,isFriends:!1,isMastersPage:!1,filterPrice:!0,filterPriceExchange:!0,filterProfit:!0,filterProfitExchange:!0,sortPrice:!0,sortPriceExchange:!0,timerStop:!1,timerBonus:null,timerShield:null},window.Notifications=[]},fb6q:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c}));var n=i("We0c"),s=i("Qnyu"),a=i("yUHS"),o=i("WLfg"),r=i("x1ye");function l(e,i={},o){t(".loader-wrap").fadeIn(n.e),t.post(n.a+e+"?"+window.queryParams+"&v="+n.b,i,(function(e){t(".loader-wrap").fadeOut(n.e),t(".technical-works").hide(),e.error?(s.a.show(e.error,!0),Object(a.c)(),Object(r.b)(),t(".btnGetBonus").text("Крутить!")):o(e.response)}),"json").fail((function(){s.a.show("Что-то пошло не так :(",!0),Object(a.c)(),Object(r.b)(),t(".loader-wrap").fadeOut(n.e)}))}function c(t){let e=!1,i=0,n=Math.round(Date.now()/1e3)+window.User.timeOffset,s="";for(;!e;)s=o(n+":"+t+":"+i),s.substring(0,window.User.DIFFICULTY_HASH)==="0".repeat(window.User.DIFFICULTY_HASH)?e=!0:i++;if(e)return{pow_hash:s,pow:n+":"+t+":"+i}}}).call(this,i("EVdn"))},gFxh:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("1QEB"),s=i.n(n);function a(){s.a.send("VKWebAppShare",{link:t(".inviteLink").first().text()})}}).call(this,i("EVdn"))},hFvm:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("pTa+");function s(){Object(n.a)()}},hZTp:function(t,e,i){},i11l:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return o}));var n=i("LIia"),s=i("M0uz"),a=i("We0c");function o(e){e.response.forEach((function(t){window.Users[t.id]={photo:t.photo_100,name:Object(s.b)(t.first_name,t.last_name),fullname:t.first_name.toLowerCase()+" "+t.last_name.toLowerCase()}})),window.User.owner_id&&(t("#owner-photo").attr("src",window.Users[window.User.owner_id].photo).off("click").on("click",(function(){openVK(window.User.owner_id)})),t("#owner-name").text(window.Users[window.User.owner_id].name).off("click").on("click",(function(){openVK(window.User.owner_id)})),t("#owner").fadeIn(a.e)),window.User.slaves?(t("#noSlaves").hide(),t("#slavesHelp").show(),t(".slave-item").remove(),window.User.slaves[0].forEach((function(e,i){window.User.slaves[0][i].fullname=window.Users[e.user_id].fullname,t(".slaves-list").append(Object(n.a)(e))}))):(t("#noSlaves").show(),t("#slavesHelp").hide())}}).call(this,i("EVdn"))},iRHI:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return l}));var n=i("fb6q"),s=i("VZz0"),a=i("yUHS"),o=i("We0c"),r=i("MMnf");function l(e=""){let i,l,c,d="profile"===window.State.currentPage;d?(i=t("#slaveUpgrade"),l=t("#userCardPrice"),c=l.text()):(i=t(".buy-btn"),c=i.text());let h="buy"+i.data("id"),u="market";window.State.isFriends?u="friends":window.State.isExchange&&(u="exchange"),d&&(u="slaves"),t.when(d?l.text(""):i.text("Покупка")).then((function(){t.when(Object(n.b)(h)).then((function(h){d?l.text(c):i.text(c),Object(n.a)("users.buySlave",{pow:h.pow,pow_hash:h.pow_hash,user_id:i.data("id"),section:u,friend_sign:e,csrf_hash:window.Card.csrfHash},(function(){window.State.isExchange&&!d?Object(s.a)(window.User.balance-window.Card.priceExchange):Object(s.a)(window.User.balance-window.Card.price),Object(a.c)(),d?Object(r.a)():t(".slave"+i.data("id")).fadeOut(o.e)}))}))}))}}).call(this,i("EVdn"))},mdQ4:function(t,e,i){"use strict";(function(t){i.d(e,"e",(function(){return f})),i.d(e,"d",(function(){return m})),i.d(e,"b",(function(){return g})),i.d(e,"c",(function(){return p})),i.d(e,"a",(function(){return v}));var n=i("1QEB"),s=i.n(n),a=i("nJOA"),o=i("MMnf"),r=i("Qnyu"),l=i("i11l"),c=i("wvD/"),d=i("otp/"),h=i("4FA/"),u=i("0n5W"),w=i("SXaZ");function f(t,e){s.a.send("VKWebAppCallAPIMethod",{method:"users.get",request_id:e,params:{user_ids:t.join(","),fields:"photo_100",v:"5.130",access_token:window.User.access_token}})}function m(e){if(e.length>0){let t=[];window.Top.push(e),e.forEach((function(e){window.Users[e.user_id]||t.push(e.user_id)})),f(t,"top")}else t(".stat-list").html('<div class="text-nothing">Пока никого нет</div>')}function g(e){if(e.length>0){let t=[];window.Market.push(e),e.forEach((function(e){window.Users[e.user_id]||t.push(e.user_id)})),f(t,"market")}else window.State.isFriends||t(".market-list").html('<div class="text-nothing">Пока никого нет</div>')}function p(e){if(e.notifications.length>0){let t=[];window.Notifications.push(e.notifications),e.users.forEach((function(e){window.Users[e]||t.push(e)})),f(t,"notifications")}else t(".notification-wrap").html('<div class="text-nothing">У вас нет уведомлений</div>')}function v(t){t.subscribe((function(t){let e;switch(t.detail.data&&(e=t.detail.data),t.detail.type){case"VKWebAppGetUserInfoResult":Object(a.a)(e);break;case"VKWebAppAccessTokenReceived":window.User.access_token=e.access_token,Object(o.a)();break;case"VKWebAppCallAPIMethodFailed":case"VKWebAppAccessTokenFailed":Object(o.a)(!1),r.a.show("Не удалось получить доступ к информации, чтобы продолжить игру.",!0);break;case"VKWebAppCallAPIMethodResult":switch(e.request_id){case"slaves":Object(l.a)(e);break;case"top":case"market":Object(c.a)(e);break;case"friends":Object(d.a)(e);break;case"usercard":Object(h.a)(e);break;case"areFriends":Object(u.a)(e);break;case"notifications":Object(w.a)(e)}}}))}}).call(this,i("EVdn"))},nJOA:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("M0uz"),s=i("VZz0");function a(t){window.User.user_id=t.id,window.User.name=Object(n.b)(t.first_name,t.last_name),window.User.fullname=t.first_name.toLowerCase()+" "+t.last_name.toLowerCase(),window.User.photo=t.photo_100,Object(s.b)()}},"o+IS":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var n=i("Z9XL");function s(){Object(n.a)(),t(".category-btn").removeClass("active"),t("#topMasters").addClass("active")}}).call(this,i("EVdn"))},"otp/":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("fb6q"),s=i("mdQ4");function a(t){let e=t.response.join(",");Object(n.a)("users.get",{user_ids:e,type:"friends"},(function(t){Object(s.b)(t.users)}))}},"pTa+":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("fb6q"),s=i("mdQ4");function a(){t(".app_title").text("Покупка"),t(".buyDonate").show(),t(".statBtn").hide(),t(".backBtn").hide(),t(".slave-item").remove(),t(".market-list").html("").removeClass("friends-list"),t("#marketUpdate").hide(),t("#exchangeFilters").show(),t("#sellYourSlaves").show(),t("#inviteFriendsBtn").hide(),t("#inviteFriendsCard").hide(),t("#noFriends").hide(),t("#acceptFiltersExchange").hide(),t(".search-filters").hide(),window.State.isExchange=!0,window.State.isFriends=!1,window.Market=[];let e=window.State.sortPriceExchange?"price_exchange":"profit_per_hour",i=window.State.sortPriceExchange?window.State.filterPriceExchange?"DESC":"ASC":window.State.filterProfitExchange?"DESC":"ASC";Object(n.a)("market.exchange",{sort:e,order:i},(function(t){Object(s.b)(t.users)}))}}).call(this,i("EVdn"))},sBLP:function(t,e,i){"use strict";(function(t){function n(){t(".profile-btn").trigger("click"),window.scrollTo(0,window.screen.availHeight/2)}i.d(e,"a",(function(){return n}))}).call(this,i("EVdn"))},so3W:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("fb6q"),s=i("mdQ4");function a(){window.State.isMastersPage=!1,t(".app_title").text("Рейтинг"),t(".buyDonate").hide(),t(".statBtn").show(),t(".backBtn").hide(),t(".stat-list").html(""),t(".slave-item").remove(),t(".category-btn").removeClass("active"),t("#topSlaves").addClass("active"),window.Top=[],Object(n.a)("top.users",{},(function(e){t(".stat-position").text(null!=e.position?e.position:"Вы не раб"),Object(s.d)(e.users)}))}}).call(this,i("EVdn"))},tPbt:function(t,e,i){"use strict";(function(t){function n(){t("#filterPriceExchange").removeClass("active").addClass("active").html('Цена<span class="icon-'+(window.State.filterPriceExchange?"down":"up")+'"></span>'),t("#filterProfitExchange").removeClass("active"),window.State.sortPriceExchange=!0,window.State.filterPriceExchange=!window.State.filterPriceExchange}i.d(e,"a",(function(){return n}))}).call(this,i("EVdn"))},tpcv:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var n=i("yv5w");function s(){Object(n.a)(),t(".category-btn").removeClass("active"),t("#marketCategory").addClass("active")}}).call(this,i("EVdn"))},uNXP:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var n=i("fb6q");i("M0uz");function s(){let e=t("#shieldTitle");t.when(e.text("Щит (активируем)")).then((function(){t.when(Object(n.b)("activateShield")).then((function(i){e.text("Щит (активен)"),Object(n.a)("users.shieldActivate",{pow:i.pow,pow_hash:i.pow_hash},(function(i){i.link?openLink(i.link):(window.User.shieldCount--,window.User.shieldCount<0&&(window.User.shieldCount=0),window.User.shieldTo=i.shield_to,e.text("Щит (есть "+window.User.shieldCount+" час)"),t("#shieldTitle").text("Щит (активен):"),window.User.shieldTo=i.shield_to)}))}))}))}}).call(this,i("EVdn"))},wF54:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return o}));var n=i("fb6q"),s=i("We0c"),a=i("VZz0");function o(){let e="buyOut"+window.User.owner_id;t.when(t(".buyOut").text("Выкупаемся")).then((function(){t.when(Object(n.b)(e)).then((function(e){Object(n.a)("users.buyOut",{pow:e.pow,pow_hash:e.pow_hash},(function(){Object(a.a)(window.User.balance-window.User.buyOut),t("#owner").fadeOut(s.e)}))}))}))}}).call(this,i("EVdn"))},wgUs:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return s}));var n=i("MMnf");function s(){t(".page").hide(),t("#profile").show(),Object(n.a)()}}).call(this,i("EVdn"))},"wvD/":function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("LIia"),s=i("M0uz");function a(e){e.response.forEach((function(t){window.Users[t.id]={photo:t.photo_100,name:Object(s.b)(t.first_name,t.last_name),fullname:t.first_name.toLowerCase()+" "+t.last_name.toLowerCase()}})),"market"===e.request_id?window.Market[0].length>0&&(t(".slave-item").remove(),window.Market[0].forEach((function(e){t(".market-list").append(Object(n.b)(e))}))):window.Top[0].length>0&&(t(".slave-item").remove(),window.Top[0].forEach((function(e,i){t(".stat-list").append(Object(n.c)(e,i+1))})))}}).call(this,i("EVdn"))},x1ye:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));var n=i("Vgow"),s=i("We0c");function a(){Object(n.a)()}function o(){t(".wheel-wrap").delay(5e3).fadeOut(s.e),t(".wheel-back").delay(5e3).fadeOut(s.e)}}).call(this,i("EVdn"))},yUHS:function(t,e,i){"use strict";(function(t){i.d(e,"d",(function(){return r})),i.d(e,"b",(function(){return l})),i.d(e,"a",(function(){return c})),i.d(e,"c",(function(){return d}));var n=i("We0c"),s=i("mdQ4"),a=i("M0uz"),o=i("fb6q");function r(e,i=""){window.Card={},window.Card.type=""!==i?i:"market",Object(o.a)("users.get",{user_id:e,type:window.Card.type},(function(i){window.Card.slaves_count=i.user.slaves_count,window.Card.balance=i.user.balance,window.Card.price=i.user.price,window.Card.priceExchange=i.user.price_exchange,window.Card.user_id=i.user.user_id,window.Card.isOnMarket=i.user.is_on_market,window.Card.owner_id=i.user.owner_id,window.Card.csrfHash=i.h,"slaves"===window.Card.type&&(window.State.isExchange=!1,Card.balance=i.user.balance,t("#slaveUpgrade").data("id",window.Card.user_id),window.Card.position=i.positions[0].length>0?i.positions[0][0].position:i.positions[1][0].position,window.Card.recommended=Math.round(window.Card.price/1.5)+10),window.Card.profit_per_hour=window.State.isExchange?i.user.profit_per_hour:Object(a.d)(i.user.profit_per_hour),window.Card.profit_per_hour_now=i.user.profit_per_hour,Object(s.e)([e],"usercard")}))}function l(){t(".market").hide(),t(".slaves").show(),t("#userCardBalance").text(window.Card.balance.toLocaleString()),t("#userCardProfitText").text("+"+window.Card.profit_per_hour_now.toLocaleString()+"/чаc"),t("#userCardRate").text(window.Card.slaves_count>=n.g&&0===window.Card.owner_id?"Боярин":"Раб"),t("#userCardPosition").text(parseInt(window.Card.position).toLocaleString()),t("#slavesCount").text(window.Card.slaves_count),t("#userCardPrice").html("("+window.Card.price.toLocaleString()+'<i class="money-icon"></i>)'),t("#userCardProfitCard").text("+"+window.Card.profit_per_hour.toLocaleString()+"/чаc"),t(".usercard-old-profit").text(window.Card.profit_per_hour_now.toLocaleString()+"/чаc"),t(".usercard-new-profit").text(window.Card.profit_per_hour.toLocaleString()+"/чаc"),t(".usercard-recommended").text("Рекомендуемая цена: 1 - "+window.Card.recommended.toLocaleString()),window.Card.isOnMarket?(t("#sellSlave").hide(),t("#cancelSellSlave").show()):(t("#sellSlave").show(),t("#cancelSellSlave").hide())}function c(e){t(".market").show(),t(".slaves").hide();let i=t(".buy-btn");window.Card.slaves_count>=n.g&&window.User.slavesCount<n.g&&0===window.Card.owner_id?(i.hide(),t(".master-btn").show()):(i.show().html("Купить ("+(window.State.isExchange?window.Card.priceExchange.toLocaleString():window.Card.price.toLocaleString())+'<i class="money-icon"></i>)').data("id",e.id),window.State.isExchange&&i.data("type","exchange"),t(".master-btn").hide())}function d(){t(".usercard-back").fadeOut(n.e),t(".usercard").fadeOut(n.e)}}).call(this,i("EVdn"))},yv5w:function(t,e,i){"use strict";(function(t){i.d(e,"a",(function(){return a}));var n=i("fb6q"),s=i("mdQ4");function a(){t(".app_title").text("Покупка"),t(".buyDonate").show(),t(".statBtn").hide(),t(".backBtn").hide(),t(".slave-item").remove(),t(".category-btn").removeClass("active"),t("#marketCategory").addClass("active"),t(".market-list").html("").removeClass("friends-list"),t("#marketUpdate").show(),t("#exchangeFilters").hide(),t("#sellYourSlaves").hide(),t("#inviteFriendsBtn").hide(),t("#inviteFriendsCard").hide(),t("#noFriends").hide(),t("#acceptFiltersExchange").hide(),t(".search-filters").hide(),window.State.isExchange=!1,window.State.isFriends=!1,window.Market=[],Object(n.a)("market.random",{},(function(t){Object(s.b)(t.users)}))}}).call(this,i("EVdn"))},z4yC:function(t,e,i){"use strict";function n(t){s(t>0?"https://vk.com/id"+t:"https://vk.com/club"+t)}function s(t){if(/iPhone|iPod/.test(navigator.platform)){let e=document.createElement("a");document.body.appendChild(e),e.style="display: none",e.href=t,e.click(),document.body.removeChild(e)}else window.open(t,"_blank")}i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return s}))}},[["e6Wu",1,2]]]);